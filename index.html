<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Transposer + Piano</title>
    <script src="https://cdn.jsdelivr.net/npm/tonal/browser/tonal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container">
        <h1>Music Studio Transposer</h1>
        
        <div class="control-row">
            <div>
                <label>Mode</label>
                <select id="typeSelect">
                    <option value="note">Notes</option>
                    <option value="chord">Chords</option>
                    <option value="numeral">Roman Numerals (I IV V)</option>
                </select>
            </div>
            <div>
                <label>Key (for Numerals)</label>
                <input type="text" id="keyInput" value="C" placeholder="e.g. G">
            </div>
        </div>

        <textarea id="userInput" placeholder="Enter music here..." rows="3"></textarea>
        
        <div class="control-row">
            <div>
                <label>Transpose (Semitones)</label>
                <input type="number" id="semitones" value="2">
            </div>
            <div>
                <label>Accidentals</label>
                <select id="accidentalType">
                    <option value="auto">Auto</option>
                    <option value="sharp">Force Sharps (#)</option>
                    <option value="flat">Force Flats (b)</option>
                </select>
            </div>
        </div>

        <button class="main-btn" onclick="handleTranspose()">Transpose & Play</button>

        <div id="outputSection">
            <h2 id="resultText">--</h2>
            <div class="button-group">
                <button onclick="copyToClipboard()" class="secondary-btn" style="background:#03410d">Copy</button>
                <button onclick="playMusic()" class="secondary-btn" style="background:#6f42c1">ðŸ”Š Replay</button>
                <button onclick="clearAll()" class="secondary-btn" style="background:#dc3545">Clear</button>
            </div>
        </div>

        <div class="piano" id="piano">
            </div>
    </div>
    <script src="script.js"></script>
</body>
</html>